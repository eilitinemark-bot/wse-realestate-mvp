# White Safe Estate — Telegram WebApp (Local Test)

Это локальный демо-проект: **API + WebApp + Bot** в Docker. Работает без домена.
Для открытия WebApp **в браузере** достаточно `http://localhost:8080`.
Чтобы открыть WebApp **внутри Telegram**, нужен HTTPS (ngrok/Cloudflare Tunnel). Для локального теста это не требуется.

## Быстрый старт
1) Установи Docker Desktop.
2) Создай `.env` из `.env.example` и укажи `TELEGRAM_BOT_TOKEN` (если хочешь запускать бота) и свой `OWNER_TG_ID`.
3) Запусти:
```bash
docker compose up -d --build
```
4) API: http://localhost:8000/docs  
   WebApp: http://localhost:8080

> Бот можно запустить без HTTPS, но WebApp внутри Telegram откроется только по HTTPS. Для проверки UI — достаточно браузера.

## Что внутри
- **api/** — FastAPI, SQLite. Таблицы создаются автоматически, добавляется демо-набор объектов (Ереван).
- **web/** — React + Vite + Leaflet. Карта слева, фильтры и список справа (на мобильных — адаптивно).
- **bot/** — aiogram. Кнопка «Открыть каталог» ведёт на `http://localhost:8080` (для браузерного теста).

## Остановка/перезапуск
```bash
docker compose down
docker compose up -d
```

## Заметки
- Макет и стили — чистый, «как у Apple»: минимализм, плавные тени, скругления, skeleton загрузчики.
- Фильтры работают одновременно, список и карта синхронны (по клику/ховеру подсветка).
- Код оставляет «крючки» под будущую авторизацию агентов, просмотры, счётчики и т.д.
